"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
Object.defineProperty(exports, "__esModule", { value: true });
const THREE = __importStar(require("@mxw/three"));
//import { TransformControls } from './TransformControls';
let camera, scene, renderer;
let geometry, material, mesh;
let control;
let snap = {
    state: false,
    isKeyActive: true,
    keyCode: 83,
    translateValue: 100,
    rotateValue: 15,
};
let webContentIDsToCommunicate = [];
let state = false;
let activeAreaDebug = false;
let showState;
//TODO view init
ipcRenderer.once('view-transfer', function (event, view) {
    camera.fov = view.FOV;
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.near = view.near;
    camera.far = view.far;
    camera.updateProjectionMatrix();
});
init();
function init() {
    showStateHandler();
    snapStateHandler();
    siblingBrowserWindowHandler();
    setupScene();
    targetHandling();
    targetSnyc();
    targetBackwardsHandling();
    setModeHandler();
    addKeyEvents();
    cameraSync();
    activeAreaStateHandler();
    resizeSync();
}
function resizeSync() {
    ipcRenderer.on('window-resolution-change', (event, resolution) => {
        renderer.setSize(window.innerWidth, window.innerHeight);
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
    });
}
function activeAreaStateHandler() {
    ipcRenderer.on('set-active-area-sebug-state', (event, state) => {
        activeAreaDebug = state;
    });
}
function drawActiveAreas(activeAreas) {
    var c = document.getElementById('activeAreaDisplay');
    var ctx = c.getContext('2d');
    ctx.clearRect(0, 0, c.width, c.height);
    c.width = window.innerWidth;
    c.height = window.innerHeight;
    drawNormalizedRectangle({ x: 0, y: 0, w: 1, h: 1 }, 'red', '6');
    activeAreas.forEach((activeArea) => {
        drawNormalizedRectangle(activeArea, 'yellow', '1');
    });
    function drawNormalizedRectangle({ x, y, w, h }, color, lineWidth) {
        ctx.beginPath();
        ctx.lineWidth = lineWidth;
        ctx.strokeStyle = color;
        ctx.rect(x * window.innerWidth, y * window.innerHeight, w * window.innerWidth, h * window.innerHeight);
        ctx.stroke();
    }
}
function setupScene(view) {
    camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.01, 50000);
    scene = new THREE.Scene();
    renderer = new THREE.WebGLRenderer({ alpha: true }); //{ alpha: true }
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setAnimationLoop(animation);
    document.body.appendChild(renderer.domElement);
    control = new TransformControls(camera, renderer.domElement);
    scene.add(control);
    control.setSize(0.7);
}
function targetSnyc() {
    control.addEventListener('objectChange', function (event) {
        if (mesh) {
            switch (control.mode) {
                case 'translate':
                    ipcRenderer.send('target-translate', control.object.position);
                    posChangeHandler();
                    break;
                case 'rotate':
                    // changed behavior on MaxWhere 5.0 due to electron
                    let quaternion = {
                        x: control.object.quaternion._x,
                        y: control.object.quaternion._y,
                        z: control.object.quaternion._z,
                        w: control.object.quaternion._w,
                    };
                    ipcRenderer.send('target-rotate', quaternion);
                    break;
                case 'scale':
                    ipcRenderer.send('target-scale', control.object.scale);
                    break;
                default:
                    break;
            }
        }
    });
    //if gizmo is active send it to the main process
    control.addEventListener('mouseDown', function (event) {
        state = true;
        ipcRenderer.send('gizmo-state', state);
        webContentIDsToCommunicate.forEach((webcontentID) => {
            ipcRenderer.sendTo(webcontentID, 'gizmo-state', state);
        });
        activeAreaUpdate();
    });
    //if gizmo is not active send it to the main process
    control.addEventListener('mouseUp', function (event) {
        state = false;
        ipcRenderer.send('gizmo-state', state);
        webContentIDsToCommunicate.forEach((webcontentID) => {
            ipcRenderer.sendTo(webcontentID, 'gizmo-state', state);
        });
        activeAreaUpdate();
    });
}
function posChangeHandler() {
    activeAreaUpdate();
    webContentIDsToCommunicate.forEach((webcontentID) => {
        ipcRenderer.sendTo(webcontentID, 'gizmo-target-pos-2D', result);
    });
}
function activeAreaUpdate() {
    if (mesh) {
        // let activeArea = [getActiveArea()];
        let activeArea = getActiveArea();
        //console.log(activeArea)
        ipcRenderer.send('set-gizmo-active-areas', activeArea);
        if (activeAreaDebug) {
            drawActiveAreas(activeArea);
        }
    }
}
// function getActiveArea() {
//   let areaSizeFactor;
//   if (state) {
//     areaSizeFactor = 1 / 1.5;
//   } else {
//     areaSizeFactor = 1 / 6;
//   }
//   let pos2D = getMeshPosOn2D();
//   let areaSize = areaSizeFactor * control.size;
//   let areaSizeX = (window.innerHeight / window.innerWidth) * areaSize;
//   let areaSizeY = 1 * areaSize;
//   let activeArea = {
//     x: pos2D.x - areaSizeX,
//     y: pos2D.y - areaSizeY,
//     w: areaSizeX * 2,
//     h: areaSizeY * 2,
//   };
//   return activeArea;
// }
function computeScreenSpaceBoundingBox(mesh, camera) {
    // var vertices = mesh.geometry.vertices;
    var vertex = new THREE.Vector3();
    var min = new THREE.Vector3(1, 1, 1);
    var max = new THREE.Vector3(-1, -1, -1);
    for (var i = 0; i < mesh.geometry.attributes.position.count; i++) {
        var vertexWorldCoord = vertex
            .copy(new THREE.Vector3().fromBufferAttribute(mesh.geometry.attributes.position, i))
            .applyMatrix4(mesh.matrixWorld);
        var vertexScreenSpace = vertexWorldCoord.project(camera);
        min.min(vertexScreenSpace);
        max.max(vertexScreenSpace);
    }
    return {
        x: (min.x + 1) / 2,
        y: 1 - (max.y + 1) / 2,
        w: (max.x + 1) / 2 - (min.x + 1) / 2,
        h: (max.y + 1) / 2 - (min.y + 1) / 2,
    };
}
function getActiveArea() {
    if (state) {
        return [{ x: 0, y: 0, w: 1, h: 1 }];
    }
    else {
        return control._gizmo.gizmo[control.mode].children.map((child) => computeScreenSpaceBoundingBox(child, camera));
    }
}
function getMeshPosOn2D() {
    let pos = mesh.position.clone();
    return convert3DposTo2D(pos);
}
function convert3DposTo2D(pos) {
    camera.updateMatrixWorld();
    let vector = pos.project(camera);
    return { x: (vector.x + 1) / 2, y: -(vector.y - 1) / 2 };
}
function setModeHandler() {
    ipcRenderer.on('set-gimzo-mode', (event, mode) => {
        setMode(mode);
    });
}
function siblingBrowserWindowHandler() {
    ipcRenderer.on('sibling-transfer', function (event, siblingID) {
        if (siblingID) {
            console.log('sibling added ' + siblingID);
            webContentIDsToCommunicate.push(siblingID);
        }
        else {
            console.log('Invalid sibling');
        }
    });
}
function showStateHandler() {
    ipcRenderer.on('show-state', function (event, show_state) {
        showState = show_state;
        control.showX = showState.translate.x;
        control.showY = showState.translate.y;
        control.showZ = showState.translate.z;
    });
}
function snapStateHandler() {
    ipcRenderer.on('set-snap', (event, snapState) => {
        if (snapState.hasOwnProperty('isKeyActive')) {
            snap.isKeyActive = snapState.isKeyActive;
        }
        if (snapState.hasOwnProperty('translateValue')) {
            snap.translateValue = snapState.translateValue;
        }
        if (snapState.hasOwnProperty('rotateValue')) {
            snap.rotateValue = snapState.rotateValue;
        }
    });
}
function targetHandling() {
    ipcRenderer.on('target-transfer', function (event, target) {
        if (target) {
            control.detach();
            scene.remove(mesh);
            mesh = undefined;
            geometry = new THREE.BoxGeometry(1, 1, 1);
            material = new THREE.MeshBasicMaterial();
            mesh = new THREE.Mesh(geometry, material);
            mesh.position.set(target.position.x, target.position.y, target.position.z);
            mesh.quaternion.set(target.quaternion.x, target.quaternion.y, target.quaternion.z, target.quaternion.w);
            mesh.scale.set(target.scale.x, target.scale.y, target.scale.z);
            scene.add(mesh);
            control.attach(mesh);
            mesh.visible = false;
        }
        else {
            control.detach();
            scene.remove(mesh);
            mesh = undefined;
        }
        activeAreaUpdate();
    });
}
function targetBackwardsHandling() {
    ipcRenderer.on('target-translate-backwards', function (event, pos) {
        if (!state && mesh) {
            mesh.position.set(pos.x, pos.y, pos.z);
            posChangeHandler();
            activeAreaUpdate();
        }
    });
    ipcRenderer.on('target-rotate-backwards', function (event, quaternion) {
        if (!state && mesh) {
            mesh.quaternion.set(quaternion.x, quaternion.y, quaternion.z, quaternion.w);
        }
        activeAreaUpdate();
    });
    ipcRenderer.on('target-scale-backwards', function (event, scale) {
        if (!state && mesh) {
            mesh.scale.set(scale.x, scale.y, scale.z);
            activeAreaUpdate();
        }
    });
}
function addKeyEvents() {
    window.addEventListener('keydown', function (event) {
        switch (event.keyCode) {
            case 81: // Q
                control.setSpace(control.space === 'local' ? 'world' : 'local');
                break;
            case 83: // S
                if (snap.isKeyActive) {
                    if (!snap.state) {
                        control.setTranslationSnap(snap.translateValue);
                        control.setRotationSnap(THREE.Math.degToRad(snap.rotateValue));
                    }
                    else {
                        control.setTranslationSnap(false);
                        control.setRotationSnap(false);
                    }
                    snap.state = !snap.state;
                }
                break;
            case 87: // W
                if (showState.translate.x == false &&
                    showState.translate.y == false &&
                    showState.translate.z == false) {
                    return;
                }
                setMode('translate');
                break;
            case 69: // E
                if (showState.rotate.x == false &&
                    showState.rotate.y == false &&
                    showState.rotate.z == false) {
                    return;
                }
                setMode('rotate');
                break;
            case 82: // R
                if (showState.scale.x == false &&
                    showState.scale.y == false &&
                    showState.scale.z == false) {
                    return;
                }
                setMode('scale');
                break;
            case 187:
            case 107: // +, =, num+
                control.setSize(control.size + 0.1);
                break;
            case 189:
            case 109: // -, _, num-
                control.setSize(Math.max(control.size - 0.1, 0.1));
                break;
        }
    });
}
function cameraSync() {
    ipcRenderer.on('camera-orientaion', function (event, orientation) {
        camera.quaternion.set(orientation.x, orientation.y, orientation.z, orientation.w);
        activeAreaUpdate();
    });
    ipcRenderer.on('camera-position', function (event, position) {
        camera.position.set(position.x, position.y, position.z);
        activeAreaUpdate();
    });
}
function animation() {
    renderer.render(scene, camera);
}
function setMode(mode) {
    switch (mode) {
        case 'translate':
            control.setMode('translate');
            // axis settings
            control.showX = showState.translate.x;
            control.showY = showState.translate.y;
            control.showZ = showState.translate.z;
            break;
        case 'rotate':
            control.setMode('rotate');
            // axis settings
            control.showX = showState.rotate.x;
            control.showY = showState.rotate.y;
            control.showZ = showState.rotate.z;
            break;
        case 'scale':
            control.setMode('scale');
            control.showX = showState.scale.x;
            control.showY = showState.scale.y;
            control.showZ = showState.scale.z;
            break;
        default:
            break;
    }
    activeAreaUpdate();
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvZ2l6bW8vanMvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGtEQUFvQztBQUNwQywwREFBMEQ7QUFDMUQsSUFBSSxNQUFNLEVBQUUsS0FBSyxFQUFFLFFBQVEsQ0FBQztBQUM1QixJQUFJLFFBQVEsRUFBRSxRQUFRLEVBQUUsSUFBSSxDQUFDO0FBQzdCLElBQUksT0FBTyxDQUFDO0FBQ1osSUFBSSxJQUFJLEdBQUc7SUFDVCxLQUFLLEVBQUUsS0FBSztJQUNaLFdBQVcsRUFBRSxJQUFJO0lBQ2pCLE9BQU8sRUFBRSxFQUFFO0lBQ1gsY0FBYyxFQUFFLEdBQUc7SUFDbkIsV0FBVyxFQUFFLEVBQUU7Q0FDaEIsQ0FBQztBQUVGLElBQUksMEJBQTBCLEdBQUcsRUFBRSxDQUFDO0FBRXBDLElBQUksS0FBSyxHQUFHLEtBQUssQ0FBQztBQUNsQixJQUFJLGVBQWUsR0FBRyxLQUFLLENBQUM7QUFFNUIsSUFBSSxTQUFTLENBQUM7QUFFZCxnQkFBZ0I7QUFFaEIsV0FBVyxDQUFDLElBQUksQ0FBQyxlQUFlLEVBQUUsVUFBVSxLQUFLLEVBQUUsSUFBSTtJQUNyRCxNQUFNLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUM7SUFDdEIsTUFBTSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsVUFBVSxHQUFHLE1BQU0sQ0FBQyxXQUFXLENBQUM7SUFDdkQsTUFBTSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ3hCLE1BQU0sQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQztJQUN0QixNQUFNLENBQUMsc0JBQXNCLEVBQUUsQ0FBQztBQUNsQyxDQUFDLENBQUMsQ0FBQztBQUNILElBQUksRUFBRSxDQUFDO0FBRVAsU0FBUyxJQUFJO0lBQ1gsZ0JBQWdCLEVBQUUsQ0FBQztJQUNuQixnQkFBZ0IsRUFBRSxDQUFDO0lBQ25CLDJCQUEyQixFQUFFLENBQUM7SUFDOUIsVUFBVSxFQUFFLENBQUM7SUFDYixjQUFjLEVBQUUsQ0FBQztJQUNqQixVQUFVLEVBQUUsQ0FBQztJQUNiLHVCQUF1QixFQUFFLENBQUM7SUFDMUIsY0FBYyxFQUFFLENBQUM7SUFFakIsWUFBWSxFQUFFLENBQUM7SUFDZixVQUFVLEVBQUUsQ0FBQztJQUNiLHNCQUFzQixFQUFFLENBQUM7SUFDekIsVUFBVSxFQUFFLENBQUM7QUFDZixDQUFDO0FBRUQsU0FBUyxVQUFVO0lBQ2pCLFdBQVcsQ0FBQyxFQUFFLENBQUMsMEJBQTBCLEVBQUUsQ0FBQyxLQUFLLEVBQUUsVUFBVSxFQUFFLEVBQUU7UUFDL0QsUUFBUSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsVUFBVSxFQUFFLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUN4RCxNQUFNLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxVQUFVLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQztRQUN2RCxNQUFNLENBQUMsc0JBQXNCLEVBQUUsQ0FBQztJQUNsQyxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUM7QUFFRCxTQUFTLHNCQUFzQjtJQUM3QixXQUFXLENBQUMsRUFBRSxDQUFDLDZCQUE2QixFQUFFLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxFQUFFO1FBQzdELGVBQWUsR0FBRyxLQUFLLENBQUM7SUFDMUIsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDO0FBRUQsU0FBUyxlQUFlLENBQUMsV0FBVztJQUNsQyxJQUFJLENBQUMsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLG1CQUFtQixDQUFDLENBQUM7SUFFckQsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUU3QixHQUFHLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDdkMsQ0FBQyxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDO0lBQzVCLENBQUMsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQztJQUM5Qix1QkFBdUIsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDaEUsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFVBQVUsRUFBRSxFQUFFO1FBQ2pDLHVCQUF1QixDQUFDLFVBQVUsRUFBRSxRQUFRLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDckQsQ0FBQyxDQUFDLENBQUM7SUFFSCxTQUFTLHVCQUF1QixDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsS0FBSyxFQUFFLFNBQVM7UUFDL0QsR0FBRyxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ2hCLEdBQUcsQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO1FBQzFCLEdBQUcsQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDO1FBQ3hCLEdBQUcsQ0FBQyxJQUFJLENBQ04sQ0FBQyxHQUFHLE1BQU0sQ0FBQyxVQUFVLEVBQ3JCLENBQUMsR0FBRyxNQUFNLENBQUMsV0FBVyxFQUN0QixDQUFDLEdBQUcsTUFBTSxDQUFDLFVBQVUsRUFDckIsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxXQUFXLENBQ3ZCLENBQUM7UUFDRixHQUFHLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDZixDQUFDO0FBQ0gsQ0FBQztBQUVELFNBQVMsVUFBVSxDQUFDLElBQUk7SUFDdEIsTUFBTSxHQUFHLElBQUksS0FBSyxDQUFDLGlCQUFpQixDQUNsQyxFQUFFLEVBQ0YsTUFBTSxDQUFDLFVBQVUsR0FBRyxNQUFNLENBQUMsV0FBVyxFQUN0QyxJQUFJLEVBQ0osS0FBSyxDQUNOLENBQUM7SUFFRixLQUFLLEdBQUcsSUFBSSxLQUFLLENBQUMsS0FBSyxFQUFFLENBQUM7SUFFMUIsUUFBUSxHQUFHLElBQUksS0FBSyxDQUFDLGFBQWEsQ0FBQyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsaUJBQWlCO0lBQ3RFLFFBQVEsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRSxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUM7SUFDeEQsUUFBUSxDQUFDLGdCQUFnQixDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ3JDLFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUMvQyxPQUFPLEdBQUcsSUFBSSxpQkFBaUIsQ0FBQyxNQUFNLEVBQUUsUUFBUSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQzdELEtBQUssQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDbkIsT0FBTyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUN2QixDQUFDO0FBRUQsU0FBUyxVQUFVO0lBQ2pCLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxjQUFjLEVBQUUsVUFBVSxLQUFLO1FBQ3RELElBQUksSUFBSSxFQUFFO1lBQ1IsUUFBUSxPQUFPLENBQUMsSUFBSSxFQUFFO2dCQUNwQixLQUFLLFdBQVc7b0JBQ2QsV0FBVyxDQUFDLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxPQUFPLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO29CQUM5RCxnQkFBZ0IsRUFBRSxDQUFDO29CQUVuQixNQUFNO2dCQUNSLEtBQUssUUFBUTtvQkFDWCxtREFBbUQ7b0JBQ25ELElBQUksVUFBVSxHQUFHO3dCQUNmLENBQUMsRUFBRSxPQUFPLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFFO3dCQUMvQixDQUFDLEVBQUUsT0FBTyxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsRUFBRTt3QkFDL0IsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUU7d0JBQy9CLENBQUMsRUFBRSxPQUFPLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFFO3FCQUNoQyxDQUFDO29CQUNGLFdBQVcsQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFLFVBQVUsQ0FBQyxDQUFDO29CQUU5QyxNQUFNO2dCQUVSLEtBQUssT0FBTztvQkFDVixXQUFXLENBQUMsSUFBSSxDQUFDLGNBQWMsRUFBRSxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO29CQUN2RCxNQUFNO2dCQUVSO29CQUNFLE1BQU07YUFDVDtTQUNGO0lBQ0gsQ0FBQyxDQUFDLENBQUM7SUFFSCxnREFBZ0Q7SUFDaEQsT0FBTyxDQUFDLGdCQUFnQixDQUFDLFdBQVcsRUFBRSxVQUFVLEtBQUs7UUFDbkQsS0FBSyxHQUFHLElBQUksQ0FBQztRQUNiLFdBQVcsQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ3ZDLDBCQUEwQixDQUFDLE9BQU8sQ0FBQyxDQUFDLFlBQVksRUFBRSxFQUFFO1lBQ2xELFdBQVcsQ0FBQyxNQUFNLENBQUMsWUFBWSxFQUFFLGFBQWEsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUN6RCxDQUFDLENBQUMsQ0FBQztRQUVILGdCQUFnQixFQUFFLENBQUM7SUFDckIsQ0FBQyxDQUFDLENBQUM7SUFFSCxvREFBb0Q7SUFDcEQsT0FBTyxDQUFDLGdCQUFnQixDQUFDLFNBQVMsRUFBRSxVQUFVLEtBQUs7UUFDakQsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNkLFdBQVcsQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ3ZDLDBCQUEwQixDQUFDLE9BQU8sQ0FBQyxDQUFDLFlBQVksRUFBRSxFQUFFO1lBQ2xELFdBQVcsQ0FBQyxNQUFNLENBQUMsWUFBWSxFQUFFLGFBQWEsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUN6RCxDQUFDLENBQUMsQ0FBQztRQUVILGdCQUFnQixFQUFFLENBQUM7SUFDckIsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDO0FBRUQsU0FBUyxnQkFBZ0I7SUFDdkIsZ0JBQWdCLEVBQUUsQ0FBQztJQUVuQiwwQkFBMEIsQ0FBQyxPQUFPLENBQUMsQ0FBQyxZQUFZLEVBQUUsRUFBRTtRQUNsRCxXQUFXLENBQUMsTUFBTSxDQUFDLFlBQVksRUFBRSxxQkFBcUIsRUFBRSxNQUFNLENBQUMsQ0FBQztJQUNsRSxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUM7QUFFRCxTQUFTLGdCQUFnQjtJQUN2QixJQUFJLElBQUksRUFBRTtRQUNSLHNDQUFzQztRQUN0QyxJQUFJLFVBQVUsR0FBRyxhQUFhLEVBQUUsQ0FBQztRQUVqQyx5QkFBeUI7UUFFekIsV0FBVyxDQUFDLElBQUksQ0FBQyx3QkFBd0IsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUN2RCxJQUFJLGVBQWUsRUFBRTtZQUNuQixlQUFlLENBQUMsVUFBVSxDQUFDLENBQUM7U0FDN0I7S0FDRjtBQUNILENBQUM7QUFFRCw2QkFBNkI7QUFDN0Isd0JBQXdCO0FBQ3hCLGlCQUFpQjtBQUNqQixnQ0FBZ0M7QUFDaEMsYUFBYTtBQUNiLDhCQUE4QjtBQUM5QixNQUFNO0FBRU4sa0NBQWtDO0FBQ2xDLGtEQUFrRDtBQUNsRCx5RUFBeUU7QUFDekUsa0NBQWtDO0FBQ2xDLHVCQUF1QjtBQUN2Qiw4QkFBOEI7QUFDOUIsOEJBQThCO0FBQzlCLHdCQUF3QjtBQUN4Qix3QkFBd0I7QUFDeEIsT0FBTztBQUNQLHVCQUF1QjtBQUN2QixJQUFJO0FBRUosU0FBUyw2QkFBNkIsQ0FBQyxJQUFJLEVBQUUsTUFBTTtJQUNqRCx5Q0FBeUM7SUFDekMsSUFBSSxNQUFNLEdBQUcsSUFBSSxLQUFLLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDakMsSUFBSSxHQUFHLEdBQUcsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDckMsSUFBSSxHQUFHLEdBQUcsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFFeEMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUU7UUFDaEUsSUFBSSxnQkFBZ0IsR0FBRyxNQUFNO2FBQzFCLElBQUksQ0FDSCxJQUFJLEtBQUssQ0FBQyxPQUFPLEVBQUUsQ0FBQyxtQkFBbUIsQ0FDckMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsUUFBUSxFQUNqQyxDQUFDLENBQ0YsQ0FDRjthQUNBLFlBQVksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDbEMsSUFBSSxpQkFBaUIsR0FBRyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDekQsR0FBRyxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1FBQzNCLEdBQUcsQ0FBQyxHQUFHLENBQUMsaUJBQWlCLENBQUMsQ0FBQztLQUM1QjtJQUVELE9BQU87UUFDTCxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUM7UUFDbEIsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQztRQUN0QixDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQztRQUNwQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQztLQUNyQyxDQUFDO0FBQ0osQ0FBQztBQUVELFNBQVMsYUFBYTtJQUNwQixJQUFJLEtBQUssRUFBRTtRQUNULE9BQU8sQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0tBQ3JDO1NBQU07UUFDTCxPQUFPLE9BQU8sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FDL0QsNkJBQTZCLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUM3QyxDQUFDO0tBQ0g7QUFDSCxDQUFDO0FBRUQsU0FBUyxjQUFjO0lBQ3JCLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDaEMsT0FBTyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUMvQixDQUFDO0FBRUQsU0FBUyxnQkFBZ0IsQ0FBQyxHQUFHO0lBQzNCLE1BQU0sQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO0lBQzNCLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7SUFFakMsT0FBTyxFQUFFLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQztBQUMzRCxDQUFDO0FBRUQsU0FBUyxjQUFjO0lBQ3JCLFdBQVcsQ0FBQyxFQUFFLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLEVBQUU7UUFDL0MsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2hCLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQztBQUVELFNBQVMsMkJBQTJCO0lBQ2xDLFdBQVcsQ0FBQyxFQUFFLENBQUMsa0JBQWtCLEVBQUUsVUFBVSxLQUFLLEVBQUUsU0FBUztRQUMzRCxJQUFJLFNBQVMsRUFBRTtZQUNiLE9BQU8sQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLEdBQUcsU0FBUyxDQUFDLENBQUM7WUFDMUMsMEJBQTBCLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1NBQzVDO2FBQU07WUFDTCxPQUFPLENBQUMsR0FBRyxDQUFDLGlCQUFpQixDQUFDLENBQUM7U0FDaEM7SUFDSCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUM7QUFFRCxTQUFTLGdCQUFnQjtJQUN2QixXQUFXLENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSxVQUFVLEtBQUssRUFBRSxVQUFVO1FBQ3RELFNBQVMsR0FBRyxVQUFVLENBQUM7UUFFdkIsT0FBTyxDQUFDLEtBQUssR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztRQUN0QyxPQUFPLENBQUMsS0FBSyxHQUFHLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO1FBQ3RDLE9BQU8sQ0FBQyxLQUFLLEdBQUcsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7SUFDeEMsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDO0FBRUQsU0FBUyxnQkFBZ0I7SUFDdkIsV0FBVyxDQUFDLEVBQUUsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxLQUFLLEVBQUUsU0FBUyxFQUFFLEVBQUU7UUFDOUMsSUFBSSxTQUFTLENBQUMsY0FBYyxDQUFDLGFBQWEsQ0FBQyxFQUFFO1lBQzNDLElBQUksQ0FBQyxXQUFXLEdBQUcsU0FBUyxDQUFDLFdBQVcsQ0FBQztTQUMxQztRQUVELElBQUksU0FBUyxDQUFDLGNBQWMsQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFO1lBQzlDLElBQUksQ0FBQyxjQUFjLEdBQUcsU0FBUyxDQUFDLGNBQWMsQ0FBQztTQUNoRDtRQUVELElBQUksU0FBUyxDQUFDLGNBQWMsQ0FBQyxhQUFhLENBQUMsRUFBRTtZQUMzQyxJQUFJLENBQUMsV0FBVyxHQUFHLFNBQVMsQ0FBQyxXQUFXLENBQUM7U0FDMUM7SUFDSCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUM7QUFDRCxTQUFTLGNBQWM7SUFDckIsV0FBVyxDQUFDLEVBQUUsQ0FBQyxpQkFBaUIsRUFBRSxVQUFVLEtBQUssRUFBRSxNQUFNO1FBQ3ZELElBQUksTUFBTSxFQUFFO1lBQ1YsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ2pCLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDbkIsSUFBSSxHQUFHLFNBQVMsQ0FBQztZQUNqQixRQUFRLEdBQUcsSUFBSSxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDMUMsUUFBUSxHQUFHLElBQUksS0FBSyxDQUFDLGlCQUFpQixFQUFFLENBQUM7WUFDekMsSUFBSSxHQUFHLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsUUFBUSxDQUFDLENBQUM7WUFDMUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQ2YsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQ2pCLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUNqQixNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FDbEIsQ0FBQztZQUNGLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUNqQixNQUFNLENBQUMsVUFBVSxDQUFDLENBQUMsRUFDbkIsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLEVBQ25CLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQyxFQUNuQixNQUFNLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FDcEIsQ0FBQztZQUNGLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDL0QsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNoQixPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3JCLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDO1NBQ3RCO2FBQU07WUFDTCxPQUFPLENBQUMsTUFBTSxFQUFFLENBQUM7WUFDakIsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNuQixJQUFJLEdBQUcsU0FBUyxDQUFDO1NBQ2xCO1FBQ0QsZ0JBQWdCLEVBQUUsQ0FBQztJQUNyQixDQUFDLENBQUMsQ0FBQztBQUNMLENBQUM7QUFFRCxTQUFTLHVCQUF1QjtJQUM5QixXQUFXLENBQUMsRUFBRSxDQUFDLDRCQUE0QixFQUFFLFVBQVUsS0FBSyxFQUFFLEdBQUc7UUFDL0QsSUFBSSxDQUFDLEtBQUssSUFBSSxJQUFJLEVBQUU7WUFDbEIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN2QyxnQkFBZ0IsRUFBRSxDQUFDO1lBQ25CLGdCQUFnQixFQUFFLENBQUM7U0FDcEI7SUFDSCxDQUFDLENBQUMsQ0FBQztJQUVILFdBQVcsQ0FBQyxFQUFFLENBQUMseUJBQXlCLEVBQUUsVUFBVSxLQUFLLEVBQUUsVUFBVTtRQUNuRSxJQUFJLENBQUMsS0FBSyxJQUFJLElBQUksRUFBRTtZQUNsQixJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FDakIsVUFBVSxDQUFDLENBQUMsRUFDWixVQUFVLENBQUMsQ0FBQyxFQUNaLFVBQVUsQ0FBQyxDQUFDLEVBQ1osVUFBVSxDQUFDLENBQUMsQ0FDYixDQUFDO1NBQ0g7UUFDRCxnQkFBZ0IsRUFBRSxDQUFDO0lBQ3JCLENBQUMsQ0FBQyxDQUFDO0lBRUgsV0FBVyxDQUFDLEVBQUUsQ0FBQyx3QkFBd0IsRUFBRSxVQUFVLEtBQUssRUFBRSxLQUFLO1FBQzdELElBQUksQ0FBQyxLQUFLLElBQUksSUFBSSxFQUFFO1lBQ2xCLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDMUMsZ0JBQWdCLEVBQUUsQ0FBQztTQUNwQjtJQUVILENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQztBQUVELFNBQVMsWUFBWTtJQUNuQixNQUFNLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxFQUFFLFVBQVUsS0FBSztRQUNoRCxRQUFRLEtBQUssQ0FBQyxPQUFPLEVBQUU7WUFDckIsS0FBSyxFQUFFLEVBQUUsSUFBSTtnQkFDWCxPQUFPLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEtBQUssT0FBTyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUNoRSxNQUFNO1lBRVIsS0FBSyxFQUFFLEVBQUUsSUFBSTtnQkFDWCxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUU7b0JBQ3BCLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFO3dCQUNmLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7d0JBQ2hELE9BQU8sQ0FBQyxlQUFlLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUM7cUJBQ2hFO3lCQUFNO3dCQUNMLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxLQUFLLENBQUMsQ0FBQzt3QkFDbEMsT0FBTyxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUMsQ0FBQztxQkFDaEM7b0JBQ0QsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7aUJBQzFCO2dCQUVELE1BQU07WUFFUixLQUFLLEVBQUUsRUFBRSxJQUFJO2dCQUNYLElBQ0UsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksS0FBSztvQkFDOUIsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksS0FBSztvQkFDOUIsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksS0FBSyxFQUM5QjtvQkFDQSxPQUFPO2lCQUNSO2dCQUNELE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQztnQkFFckIsTUFBTTtZQUVSLEtBQUssRUFBRSxFQUFFLElBQUk7Z0JBQ1gsSUFDRSxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxLQUFLO29CQUMzQixTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxLQUFLO29CQUMzQixTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxLQUFLLEVBQzNCO29CQUNBLE9BQU87aUJBQ1I7Z0JBQ0QsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUVsQixNQUFNO1lBRVIsS0FBSyxFQUFFLEVBQUUsSUFBSTtnQkFDWCxJQUNFLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLEtBQUs7b0JBQzFCLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLEtBQUs7b0JBQzFCLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLEtBQUssRUFDMUI7b0JBQ0EsT0FBTztpQkFDUjtnQkFDRCxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7Z0JBRWpCLE1BQU07WUFFUixLQUFLLEdBQUcsQ0FBQztZQUNULEtBQUssR0FBRyxFQUFFLGFBQWE7Z0JBQ3JCLE9BQU8sQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQztnQkFDcEMsTUFBTTtZQUVSLEtBQUssR0FBRyxDQUFDO1lBQ1QsS0FBSyxHQUFHLEVBQUUsYUFBYTtnQkFDckIsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEdBQUcsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQ25ELE1BQU07U0FDVDtJQUNILENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQztBQUVELFNBQVMsVUFBVTtJQUNqQixXQUFXLENBQUMsRUFBRSxDQUFDLG1CQUFtQixFQUFFLFVBQVUsS0FBSyxFQUFFLFdBQVc7UUFDOUQsTUFBTSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQ25CLFdBQVcsQ0FBQyxDQUFDLEVBQ2IsV0FBVyxDQUFDLENBQUMsRUFDYixXQUFXLENBQUMsQ0FBQyxFQUNiLFdBQVcsQ0FBQyxDQUFDLENBQ2QsQ0FBQztRQUNGLGdCQUFnQixFQUFFLENBQUM7SUFDckIsQ0FBQyxDQUFDLENBQUM7SUFDSCxXQUFXLENBQUMsRUFBRSxDQUFDLGlCQUFpQixFQUFFLFVBQVUsS0FBSyxFQUFFLFFBQVE7UUFDekQsTUFBTSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN4RCxnQkFBZ0IsRUFBRSxDQUFDO0lBQ3JCLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQztBQUVELFNBQVMsU0FBUztJQUNoQixRQUFRLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsQ0FBQztBQUNqQyxDQUFDO0FBRUQsU0FBUyxPQUFPLENBQUMsSUFBSTtJQUNuQixRQUFRLElBQUksRUFBRTtRQUNaLEtBQUssV0FBVztZQUNkLE9BQU8sQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUM7WUFFN0IsZ0JBQWdCO1lBQ2hCLE9BQU8sQ0FBQyxLQUFLLEdBQUcsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7WUFDdEMsT0FBTyxDQUFDLEtBQUssR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztZQUN0QyxPQUFPLENBQUMsS0FBSyxHQUFHLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO1lBRXRDLE1BQU07UUFFUixLQUFLLFFBQVE7WUFDWCxPQUFPLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQzFCLGdCQUFnQjtZQUNoQixPQUFPLENBQUMsS0FBSyxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQ25DLE9BQU8sQ0FBQyxLQUFLLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDbkMsT0FBTyxDQUFDLEtBQUssR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUVuQyxNQUFNO1FBRVIsS0FBSyxPQUFPO1lBQ1YsT0FBTyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUV6QixPQUFPLENBQUMsS0FBSyxHQUFHLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1lBQ2xDLE9BQU8sQ0FBQyxLQUFLLEdBQUcsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFDbEMsT0FBTyxDQUFDLEtBQUssR0FBRyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUVsQyxNQUFNO1FBRVI7WUFDRSxNQUFNO0tBQ1Q7SUFDRCxnQkFBZ0IsRUFBRSxDQUFDO0FBQ3JCLENBQUMifQ==